# Домашнее задание к занятию "Система мониторинга Zabbix" - Ефанов Михаил Евгеньевич

## Цели задания

    Научиться устанавливать Zabbix Server c веб-интерфейсом
    Научиться устанавливать Zabbix Agent на хосты
    Научиться устанавливать Zabbix Agent на компьютер и подключать его к серверу Zabbix

### Задание 1

    Установите Zabbix Server с веб-интерфейсом.

### Выполнение

    1. Открываем официальную страницу Zabbix:
<https://www.zabbix.com/>

    2. На ВМ на которой будем устанавливать Zabbix Server определяем систему через команду :

```bash
hostnamectl
```

![Снимок экрана 2026-02-15 в 14.56.54](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2014.56.54.png)

    3. На сайте определяем конфигурацию:

![Снимок экрана 2026-02-15 в 14.56.42](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2014.56.42.png)

    4. Обновляем систему, устанавливаем базу данных:

```bash
apt updade
apt install postgresql
```

    5. Выполняем команды полученные на сайте :

![Снимок экрана 2026-02-16 в 05.18.50](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-16%20%D0%B2%2005.18.50.png)

![Снимок экрана 2026-02-15 в 15.02.43](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2015.02.43.png)

    6. Открываем веб страницу:

        > http;//IPvm:8080

        подверждаем настройки

![Снимок экрана 2026-02-15 в 15.25.45](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2015.25.45.png)

![Снимок экрана 2026-02-15 в 15.27.16](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2015.27.16.png)

    1. Zabbix Server - Запущен
![Снимок экрана 2026-02-15 в 15.27.48](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-15%20%D0%B2%2015.27.48.png)


### Задание 2
    Установите Zabbix Agent на два хоста.

### Выполнение

    1. При выполнении задания 1, на ВМ вместе с Zabbix Server был сразу же установлен Zabbix Agent.
    2. Устнавливаем Zabbix Agent на 2ю ВМ. Так же вначале определяем ее систему. У меня это снова Linux Ubuntu, к сожалению на CentOS 10 у Zabbix нет поддержки агента на платформе aarch64. Заходим на сайт выбираем параметры:
![Снимок экрана 2026-02-17 в 04.36.49](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2004.36.49.png)

    3. Получаем команды:   
![Снимок экрана 2026-02-17 в 04.36.59](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2004.36.59.png)

    4. После установки проверяем :

![Снимок экрана 2026-02-16 в 12.48.57](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-16%20%D0%B2%2012.48.57.png)

    5. В файле конфигурации 2й ВМ меняем ip адрес и hostname
    6. Перезагружаем Zabbix Agent сервис.
    6. Открываем в web странице наш Zabbix Server. Заходим во вкладку хосты, добавляем новый хост : имя, адрес, шаблон метрик, группу.
![Снимок экрана 2026-02-16 в 12.56.05](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-16%20%D0%B2%2012.56.05.png)

    7.Открываем мониторинг. Указываем хосты: добавленную ВМ и сервера. Начинаем получать данные мониторинга.
![Снимок экрана 2026-02-16 в 13.00.52](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-16%20%D0%B2%2013.00.52.png)


### Так как не получилось установить агента на CentOS устанавливем на  Windows.
    У меня платформа на arm поэтому будем использовать винду 11.
 ![Снимок экрана 2026-02-17 в 13.07.24](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2013.07.24.png)

![Снимок экрана 2026-02-17 в 13.07.30](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2013.07.30.png)
   
    1. Открывает главное web страницу Zabbix на Windows
    
    2. Скачиваем агента
    3. Устанавливаем
![Снимок экрана 2026-02-17 в 11.54.59](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2011.54.59.png)

    4. Проверяем что сервис установлен и что файлы конфига и лога на месте
![Снимок экрана 2026-02-17 в 11.57.05](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2011.57.05.png)
![Снимок экрана 2026-02-17 в 11.57.23](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2011.57.23.png)

    5. Настраиваем на нашем web zabbix  новое подключение. В шаблонах указваем активного агента. Проверям получение данных. 
![Снимок экрана 2026-02-17 в 12.10.51](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2012.10.51.png)

![Снимок экрана 2026-02-17 в 12.46.03](assets/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202026-02-17%20%D0%B2%2012.46.03.png)

    
### Сетевая архитектура стенда мониторинга Zabbix

    Настройка агентов проводилась в раздельных сегментах сети с имитацией   различных зон доступа:
	1. Сегмент 192.168.209.0/24
    Использовался как внутренняя изолированная сеть (Host-Only) для связи   виртуальных машин.
    В данном сегменте размещены:
    	•	ВМ с Zabbix Server
	   •	ВМ Ubuntu с Zabbix Agent
    Сеть не имеет выхода во внешнюю инфраструктуру и используется   исключительно для межмашинного взаимодействия внутри лабораторного стенда.
    	1. Сегмент 172.16.181.0/24 (NAT)
    Использовался для подключения виртуальной машины с Windows.
    Windows-агент передаёт данные серверу через NAT-интерфейс.
    	2. Локальный агент сервера
    Агент, установленный на ВМ с Zabbix Server, передаёт данные через   интерфейс 127.0.0.1 (loopback).



   > Итоговая схема:

    Zabbix Server принимает данные агентов через три интерфейса:
	•	127.0.0.1 — локальный агент сервера
	•	192.168.209.2 — агент во внутреннем сегменте
	•	172.16.181.148 — агент Windows через NAT